<div class="container">

  <div class="card m-3 mt-5">
    <div class="view overlay" rel="noopener noreferrer" target="_blank">
      <a [routerLink]="['/company', factory._id]">
        <img class="card-img-top" src="{{factory.logo}}" onerror="this.src='../../../assets/images/news-image-default.jpg'">
      </a>
    </div>
    <div class="card-body rounded-bottom">
      <div *ngIf="factory.editing">
        <app-edit-factory-form [factory]="factory" (update)="updateItem($event)"></app-edit-factory-form>
      </div>
    </div>
    <div *ngIf="!factory.editing">
      <h4 class="card-title mb-0">
        Factory: {{factory.companyName}}
      </h4>
      <small class="text-muted">Updated at: {{ factory.updated_at | date:'medium'}}</small>
      <div class="card-text mt-4 mb-4">
        <p>Activity: {{ factory.activity }}</p>
        <p>Billing: {{ factory.billing }} Mâ‚¬</p>
        <p>Country: {{ factory.country }}</p>
        <p>Address: {{ factory.address }}</p>
      </div>

      <div class="text-center mt-3 justify-content-center">
        <button class="btn w-75 peach-gradient btn-rounded" (click)="showCurrentForm(factory)">
          Edit info
        </button>
        <div class="btn btn-sm w-75 text-dark justify-content-center" (click)="deleteItem(factory)">
          Delete factory
        </div>
      </div>
      <hr class="hr-dark" style="border: 2px solid black;">
    </div>
  </div>

</div>
