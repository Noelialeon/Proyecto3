<div class="card elegant-color">
  <div class="view overlay" rel="noopener noreferrer" target="_blank">
    <a [routerLink]="['/company', factory._id]">
      <img class="card-img-top" src="{{factory.logo}}" onerror="this.src='../../../assets/images/news-image-default.jpg'" (click)="['/private-profile']">
    </a>
  </div>
  <div class="card-body elegant-color white-text rounded-bottom">
    <div *ngIf="!editing">
      <h4 class="card-title">
        Factory: {{factory.companyName}}
      </h4>
      <small class="text-muted">Updated at: {{ factory.updated_at | date:'medium'}}</small>
      <hr class="hr-light">
      <div class="card-text white-text mb-4">
        <p>Activity: {{ factory.activity }}</p>
        <p>Billing: {{ factory.billing }} Mâ‚¬</p>
        <p>Country: {{ factory.country }}</p>
        <p>Address: {{ factory.address }}</p>
      </div>
    </div>

    <div *ngIf="editing">
      <app-edit-factory-form [factory]="factory" (update)="updateFactory($event)"></app-edit-factory-form>
    </div>
  </div>
  <div *ngIf="!editing" class="card-read-more p-3">
    <div class="text-center mt-3">
      <button class="btn peach-gradient btn-rounded" (click)="showForm()">
        Edit info
      </button>
      <div class="btn btn-link-white white-text" (click)="deleteItem(factory)">
        Delete factory
      </div>
    </div>
  </div>
</div>
